<?xml version="1.0" encoding="UTF-8" ?>
<Module>
<!-- Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy of
 * the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *      
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License
-->
        <ModulePrefs title="Hangout Starter">
                <Require feature="rpc" />
                <Require feature="views" />
                <Require feature="locked-domain" />
        </ModulePrefs>
        <Content type="html"><![CDATA[     

<html>
<style type="text/css">
<!--
.button {
  border-radius: 3px;
  -moz-border-radius: 3px;
  background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#ddd));
  background: -moz-linear-gradient(top, #fff, #ddd);  
  border: 1px solid #bbb;
}

.button:active {
        background: -webkit-gradient(linear, left top, left bottom, from(#aaa), to(#333)); 
        background: -moz-linear-gradient(bottom, #ddd, #aaa); }

li {
  list-style-type:none;
}

body {
    padding: 1%;
}

ul {
    margin-top:10px;
    padding: 0 3% 0 3%;
}

dl {
  -webkit-margin-after: 0;
  margin: 3px;
}

dt, dd {
  display: inline-block;
}

dt {
  width: 70%;
  padding-right:5%;
  text-align:right;
}

div.panel-body {
  padding:0;
  max-height:55%;
  overflow:scroll;
}

.card.ng-enter {
  -webkit-animation: bounceInRight 1s;
  -moz-animation: bounceInRight 1s;
  -o-animation: bounceInUp 1s;
  animation: bounceInUp 1s;
}
.card.ng-leave {
  -webkit-animation: bounceOutLeft 1s;
  -moz-animation: bounceOutUp 1s;
  -o-animation: bounceOutUp 1s;
  animation: bounceOutUp 1s;
}

.card {
  margin: 0 auto;
  width: 100%;
  display:inline-block;
  border-radius: 7px;
  font-weight:bold;
  padding: 4px;
  vertical-align:top;
  border: outset 3px black;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size:smaller;
}

.card.black {
  font-size: small;
}

.black {
  background-color: black;
  color: white;
  min-height: 100px;
}

.white {
  background-color: white;
  color: black;
}

li.card {
  display:inline-block;
  height: 11rem;
  width: 19%;
  margin-left: 1%;
  margin-top:-3%;
}
.possibleWinner {
  border: 3px solid green;
}

.cardset {
  display: block;
}
-->
</style>
<body ng-init="init.startup = true">
  <div ng-show="init.startup" ng-controller="CardSetSelect">
    <label class="cardset" ng-repeat="(value, label) in cardSets"><input type="checkbox" ng-model="cards[value]">{{label}}</label>
    <button ng-click="submit()">Choose Card Sets</button>
  </div>
  <div ng-hide="init.startup" ng-controller="TableCtrl" ng-init="showHand = true">
    <p ng-bind-html="question.text" class="card black"></p>
    <accordion close-others="oneAtATime">
      <accordion-group heading="Sounds">
        <ul class="sounds">
          <li><button ng-click="playSound('yeah')">Yeah!</button></li>
          <li><button ng-click="playSound('boo')">Boooo!</button></li>
          <li><button ng-click="playSound('cheer')">Cheer!</button></li>
          <li><button ng-click="playSound('timer')">Hurry up!</button></li>
          <li><button ng-click="playSound('sadtrombone')">Fail!</button></li>
          <li><button ng-click="playSound('rimshot')">Ba-dum-psst!</button></li>
        </ul>
      </accordion-group>
      <accordion-group heading="Scoreboard">
        <dl class="scoreboard">
          <dt ng-repeat-start="(person,points) in scoreboard">{{person}}</dt>
          <dd ng-repeat-end>{{points}}</dd>
        </dl>
      </accordion-group>
      <accordion-group ng-show="isReader" heading="Reader Actions" is-open="true">
        <button ng-click="drawNewQuestion()" ng-hide="disableDrawQuestion">Draw Question</button>
        <button ng-click="showAnswers()" ng-hide="disableShowAnswers">Show Answers</button>
        <button ng-click="selectWinner()" ng-hide="disableSelectWinner">Select Winner</button>
        <button ng-click="moveToNext()" ng-hide="disableMoveToNext">Move to next Player</button>
        <p>Submitted Cards</p>
        <ul ng-hide="disableSelectWinner" ng-repeat="player in submittedPlayers" ng-click="selected.winner = player" ng-class="{'possibleWinner': 'selected.winner == player'}">
            <li ng-repeat="card in player.cards" class="card white">{{card.text}}</li>
        </ul>
        <p ng-show="disableSelectWinner" ng-pluralize count="submittedPlayers.length" when="{'0': 'No submissions', '1': '1 submission', 'other': '{} submissions'}"></p>
      </accordion-group>
      <accordion-group heading="My Hand" is-open="!isReader || showHand">
        <ul>
          <li ng-repeat="card in submittedCards" class="card white" ng-click="unselectCard($index)">{{card.text}}</li>
        </ul>
        <ul>
          <li ng-repeat="card in hand" class="card white" ng-click="selectCard($index)">{{card.text}}</li>
        </ul>
        <button ng-hide="isReader" ng-click="submitCards(submittedCards)" ng-disabled="disableSubmit && (question.draw == submittedCards.length)">Submit Choices</button>
      </accordion-group>
    </accordion>
  </div>


<script src="//plus.google.com/hangouts/_/api/v1/hangout.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.12/angular.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.12/angular-animate.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.10.0/ui-bootstrap-tpls.js"></script>
<script src="//hangouts-against-humanity.appspot.com/static/hah.js"></script>
<script>
function init() {
  // When API is ready...
  gapi.hangout.onApiReady.add(
      function(eventObj) {
        if (eventObj.isApiReady) {
          angular.bootstrap(document, ['HangoutsAgainstHumanity']);
        }
      });
}

// Wait for gadget to load.
gadgets.util.registerOnLoadHandler(init);
</script>
<link href="//hangouts-against-humanity.appspot.com/static/animate.css" rel="stylesheet" />
<link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet" />

</body>
</html>
]]>
</Content>
</Module>